<!-- ของบุลคลากรทั้วไป -->
<div class="tab-pane fade show active" *ngIf="list">
    &nbsp;&nbsp;&nbsp;
    <div class="row-md-1">
        <div style="padding-left: 15%;padding-right: 2%;">
            <div class="card w-75 text-white bg-primary">
                <div class="card-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <h3 class="card-title">รายการลา</h3>


                            </div>
                            <div class="col-sm">

                            </div>
                            <div class="col-sm">

                            </div>
                            <div class="col-sm">
                                <button class="btn btn-warning" type="button" data-toggle="modal"
                                    data-target="#exampleModalleave">
                                    ยื่นขอลา
                                </button>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<br>
<div style="padding-left: 1%;padding-right: 2%; ">
    <div class="card">
        <div class="card-body">
            <ul class="nav nav-tabs mb-3" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="pills-leave-tab" data-toggle="pill" href="#pills-leave" role="tab"
                        aria-controls="pills-leave" aria-selected="true">รายการลา</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="pills-cancel_leave-tab" data-toggle="pill" href="#pills-cancel_leave"
                        role="tab" aria-controls="pills-cancel_leave" aria-selected="false">รายการยกเลิก</a>
                </li>
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab"
                        aria-controls="pills-contact" aria-selected="false">ขออนุญาตยกเลิก</a>
                </li>
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-leave" role="tabpanel"
                    aria-labelledby="pills-leave-tab">

                    <div>
                        <div class="table-responsive-lg">
                            <table class="table table-hover">
                                <thead>
                                    <tr class="text-center">
                                        <th scope="col">ชื่อพนักงาน</th>
                                        <th scope="col">ประเภท</th>
                                        <th scope="col">วันที่ลา</th>
                                        <th scope="col">จำนวน/วัน</th>
                                        <!-- <th scope="col">ไฟล์แนบ</th> -->
                                        <th scope="col">สถานะ</th>
                                        <th scope="col">ปริ้นใบลา</th>
                                        <th scope="col">จัดการ</th>
                                    </tr>
                                </thead>
                                <tbody
                                    *ngFor="let item of leave | paginate: { id: 'leave_page',itemsPerPage: 5, currentPage: pageActual}">
                                    <tr>
                                        <td class="text"> <a style="color:rgb(80, 80, 246);" data-toggle="modal"
                                                data-target="#exampleModal"
                                                (click)="show_data(item.Leave_ID,item.Name_Leave,item.To_Person,item.Emp_ID,
                                item.EmpName,item.EmpLastName,item.PositionName,item.DeptName,item.SectorName,item.LTypeName,
                                item.LeaveData,item.ContactInformation,item.employee,item.LeaveDateStart_month,item.LeaveDateLast_month,item.LeaveTotal,
                                item.LeaveStatus_Name, item.LeaveStatus_Document,item.Leave_characteristics_dateStart,item.Leave_characteristics_dateLast,item.file_names)">
                                                <u> {{item.EmpName}}
                                                    {{item.EmpLastName}}</u></a>
                                            <p> {{item.DeptName}}</p>
                                        </td>
                                        <td class="text-center">{{item.LTypeName}}</td>
                                        <td class="text-center"> {{item.LeaveDateStart_month}} ถึง
                                            {{item.LeaveDateLast_month}}</td>
                                        <td class="text-center"> {{item.LeaveTotal}} <p *ngIf="item.LeaveTotal == 0"
                                                style="color: red;">ขออนุญาตยกเลิก</p>
                                        </td>
                                        <!-- <td class="text-center"> {{item.file_names}}</td> -->
                                        <!-- <div *ngIf="item.LeaveStatus_ID == 6" style="color:rgb(240, 8, 8);" class="text-center">
                                            <td class="text-center">
                                                {{item.LeaveStatus_Name}} </td>
                                        </div> -->
                                        <td class="text-center" style="color:rgb(80, 80, 246);"
                                            *ngIf="item.LeaveStatus_ID < 5">
                                            {{item.LeaveStatus_Name}} </td>
                                        <td class="text-center" style="color:rgb(10, 216, 3);"
                                            *ngIf="item.LeaveStatus_ID === '5'">
                                            {{item.LeaveStatus_Name}} </td>
                                        <td class="text-center" style="color:rgb(228, 22, 22);"
                                            *ngIf="item.LeaveStatus_ID === '6'">
                                            {{item.LeaveStatus_Name}} </td>
                                        <td class="text-center" style="color:rgb(246, 99, 80)"
                                            *ngIf="item.LeaveStatus_ID === '11'">
                                            {{item.LeaveStatus_Name}} </td>
                                        <td class="text">
                                            <button type="button" *ngIf="item.LeaveStatus_ID <= 6"
                                                class="btn btn-success btn-circle btn-xl" (click)="printDocument(item.Leave_ID,item.Name_Leave,item.To_Person,item.Emp_ID,
                                item.Prefix, item.EmpName,item.EmpLastName,item.PositionName,item.DeptName,item.SectorName,item.LTypeName,
                                item.LeaveData,item.ContactInformation,item.employee,item.LeaveDateStart_month,item.LeaveDateLast_month,item.LeaveTotal,
                                item.LeaveStatus_Name, item.LeaveStatus_Document,item.LType_ID,item.limit_ID,item.LeaveStatus_ID,item.LeaveDateStart,
                                item.LeaveDateLast)"><i class="fa fa-print" aria-hidden="true"></i></button>
                                            <!-- <a routerLink="/FilelaeveprintComponent">ปริ้น</a>  -->
                                        </td>
                                        <!-- item.LeaveStatus_ID < 5 && item.LeaveTotal> 0 || -->
                                        <td class="text-center">
                                            &nbsp;
                                            <button
                                                *ngIf="item.LeaveStatus_ID < 5 && item.LeaveTotal> 0 && item.LTypeName != 'ลาป่วย'"
                                                type="button" data-toggle="tooltip" data-placement="top"
                                                title="ยกเลิกการลา" class="btn btn-danger btn-circle btn-xl"
                                                (click)="cancel_leave(item.Leave_ID,item.LeaveStatus_ID)"><i
                                                    class="fa fa-calendar-times" aria-hidden="true"></i> </button>

                                            <!-- Button trigger modal -->
                                            <!--   -->
                                            <button
                                                *ngIf="item.LeaveStatus_ID == 5 && item.LeaveTotal > 0 && item.LTypeName != 'ลาป่วย' && item.LeaveDateStart > date_dissable_btn"
                                                type="button" class="btn btn-primary btn-circle btn-xl"
                                                data-toggle="modal" data-target="#exampleModal_cancel"
                                                title="ขออนุญาติยกเลิกการลา"
                                                (click)="cancel(item.Leave_ID,item.LTypeName,item.LeaveDateStart_month,item.LeaveDateLast_month,item.LeaveTotal,item.LeaveDateStart,item.LeaveDateLast)">
                                                <i class="fa fa-question-circle" aria-hidden="true"></i>
                                            </button>

                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <pagination-controls id="leave_page" (pageChange)="pageActual = $event">
                            </pagination-controls>
                        </div>
                    </div>

                </div>
                <div class="tab-pane fade" id="pills-cancel_leave" role="tabpanel"
                    aria-labelledby="pills-cancel_leave-tab">

                    <div class="card-body">
                        <div class="table-responsive-lg">
                            <table class="table table-hover">
                                <thead>
                                    <tr class="text-center">
                                        <th scope="col">ชื่อพนักงาน</th>
                                        <th scope="col">ประเภท</th>
                                        <th scope="col">วันที่ลา</th>
                                        <th scope="col">จำนวน/วัน</th>
                                        <!-- <th scope="col">ไฟล์แนบ</th> -->
                                        <th scope="col">สถานะ</th>
                                        <!-- <th scope="col">ปริ้นใบยกเลิก</th> -->
                                        <!-- <th scope="col">ตรวจสอบ</th> -->
                                    </tr>
                                </thead>
                                <tbody
                                    *ngFor="let item of showcancel | paginate: { id: 'showcancel_page',itemsPerPage: 10, currentPage: pageActual};">
                                    <tr>
                                        <td class="text"> <a style="color:rgb(80, 80, 246);" data-toggle="modal"
                                                data-target="#exampleModal" (click)="show_data(item.Leave_ID,item.Name_Leave,item.To_Person,item.Emp_ID,
                                                                        item.EmpName,item.EmpLastName,item.PositionName,item.DeptName,item.SectorName,item.LTypeName,
                                                                        item.LeaveData,item.ContactInformation,item.employee,item.LeaveDateStart_month,item.LeaveDateLast_month,item.LeaveTotal,
                                                                      item.LeaveStatus_Name, item.LeaveStatus_Document,item.Leave_characteristics_dateStart,item.Leave_characteristics_dateLast,
                                                                      item.file_names)">
                                                <u> {{item.EmpName}}
                                                    {{item.EmpLastName}}</u></a>
                                            <p>{{item.DeptName}}</p>
                                        </td>

                                        <td class="text-center">{{item.LTypeName}}</td>
                                        <td class="text-center"> {{item.LeaveDateStart_month}} ถึงวันที่
                                            {{item.LeaveDateLast_month}}</td>
                                        <td class="text-center"> {{item.LeaveTotal}}</td>
                                        <!-- <td class="text-center"> {{item.file_names}}</td> -->
                                        <td class="text-center">
                                            <p style="color:red;">{{item.LeaveStatus_Name}} </p>
                                        </td>
                                        <!-- <td class="text-center">
                                            <button type="button" class="btn btn-success"
                                                (click)="printDocument(item.LType_ID)"><i class="fa fa-print"
                                                    aria-hidden="true"></i></button>

                                        </td> -->
                                        <td class="text-center">
                                            &nbsp;
                                            <!-- <button type="button" class="btn btn-primary">ตรวจสอบ</button> -->


                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                            <pagination-controls id="showcancel_page" (pageChange)="pageActual = $event">
                            </pagination-controls>
                        </div>
                    </div>

                </div>
                <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">

                    <div class="card-body">
                        <div class="table-responsive-lg">
                            <table class="table table-hover">
                                <thead>
                                    <tr class="text-center">
                                        <th scope="col">ชื่อพนักงาน</th>
                                        <th scope="col">ประเภท</th>
                                        <!-- <th scope="col">วันที่ลา</th> -->
                                        <th scope="col">วันที่ยกเลิก</th>

                                        <th scope="col">จำนวน/วัน</th>
                                        <!-- <th scope="col">ไฟล์แนบ</th> -->
                                        <th scope="col">สถานะ</th>
                                        <!-- <th scope="col">ปริ้นใบยกเลิก</th> -->
                                        <th scope="col">ปริ้น</th>
                                    </tr>
                                </thead>
                                <tbody
                                    *ngFor="let item of showcancel_allow | paginate: { id: 'showcancel_allow_page', itemsPerPage: 10, currentPage: pageActual};">
                                    <tr>
                                        <td class="text"> <a style="color:rgb(80, 80, 246);" data-toggle="modal"
                                                data-target="#exampleModal"
                                                (click)="show_data(item.Leave_ID,item.Name_Leave,item.To_Person,item.Emp_ID,
                                                                        item.EmpName,item.EmpLastName,item.PositionName,item.DeptName,item.SectorName,item.LTypeName,
                                                                        item.LeaveData,item.ContactInformation,item.employee,item.cancel_date_start,item.cancel_date_stop,item.LeaveTotal,
                                                                      item.LeaveStatus_Name, item.LeaveStatus_Document,item.Leave_characteristics_dateStart,item.Leave_characteristics_dateLast,item.file_names)">
                                                <u> {{item.EmpName}}
                                                    {{item.EmpLastName}}</u></a>
                                            <p>{{item.DeptName}}</p>
                                        </td>

                                        <td class="text-center">{{item.LTypeName}}</td>
                                        <!-- <td class="text-center"> {{item.LeaveDateStart}} ถึงวันที่
                                            {{item.LeaveDateLast}}</td> -->
                                        <td class="text-center"> {{item.cancel_date_start}} ถึงวันที่
                                            {{item.cancel_date_stop}}</td>
                                        <td class="text-center"> {{item.cancel_total}}</td>
                                        <!-- <td class="text-center"> {{item.file_names}}</td> -->
                                        <td class="text-center" *ngIf="item.cancel_status == 9 ">
                                            <p style="color:red;">ไม่อนุญาตให้ยกเลิกการลา </p>
                                        </td>
                                        <td class="text-center" *ngIf="item.cancel_status == 10 ">
                                            <p style="color:rgb(204, 201, 18);">รออนุญาตให้ยกเลิกการลา </p>
                                        </td>
                                        <td class="text-center" *ngIf="item.cancel_status == 8 ">
                                            <p style="color:rgb(39, 196, 19);">อนุญาตให้ยกเลิกการลา </p>
                                        </td>
                                        <!-- <td class="text-center">
                                                                <button type="button" class="btn btn-success"
                                                                    (click)="printDocument(item.LType_ID)"><i class="fa fa-print"
                                                                        aria-hidden="true"></i></button>
                    
                                                            </td> -->
                                        <td class="text-center">
                                            <!-- &nbsp;
                                            <button *ngIf="item.cancel_status == 10" type="button" data-toggle="tooltip"
                                                data-placement="top" title="ยกเลิกการอนุญาตการลา"
                                                class="btn btn-danger btn-circle btn-xl"><i
                                                    class="fa fa-calendar-times-o" aria-hidden="true"></i> </button> -->

                                            <button type="button" class="btn btn-success btn-circle btn-xl"
                                                (click)="printDocument_cancel(item.Leave_ID,item.Name_Leave,item.To_Person,item.Emp_ID,
                               item.Prefix, item.EmpName,item.EmpLastName,item.PositionName,item.DeptName,item.SectorName,item.LTypeName,
                                item.LeaveData,item.ContactInformation,item.employee,item.LeaveDateStart_month,item.LeaveDateLast_month,item.LeaveTotal,
                              item.LeaveStatus_Name, item.LeaveStatus_Document,item.cancel_status,item.cancel_data,item.cancel_total,item.cancel_date_start,item.cancel_date_stop )"><i
                                                    class="fa fa-print" aria-hidden="true"></i></button>

                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                            <pagination-controls id="showcancel_allow_page" (pageChange)="pageActual = $event">
                            </pagination-controls>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
    <br>


</div>

<!-- โมเดลโชวข้อมูล -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">ข้อมูลการลา</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="card-header text-left">
                        <b style="color: mediumblue;"> ยื่นการลา</b>
                    </div>
                    <br>
                    <div class="container">
                        <h6>เรื่อง : {{Name_Leave_show}}</h6>
                        <br>
                        <h6>เรียน : {{To_Person_show}}</h6>
                    </div>
                    &nbsp;&nbsp;
                    <div class="card-header text-left">
                        <b style="color: mediumblue;">ข้อมุลบุคลากร</b>
                    </div>
                    &nbsp;
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <h6 style="display: none;">รหัส : {{Emp_ID_show}} </h6>
                            </div>
                            <div class="col-sm">
                                <h6> ชื่อ : {{EmpName_show}}</h6>
                            </div>
                            <div class="col-sm">
                                <h6> นามสกุล : {{EmpLastName_show}}</h6>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <h6>ตำแหน่ง : {{PositionName_show}} </h6>
                            </div>
                            <div class="col-sm">
                                <h6>แผนก : {{DeptName_show}}</h6>
                            </div>
                            <div class="col-sm">
                                <h6> ฝ่าย : {{SectorName_show}} </h6>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="card-header text-left">
                        <b style="color: mediumblue;"> ข้อมูลการลา</b>
                    </div>
                    <br>
                    <div class="container">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">หัวข้อ</th>
                                    <th scope="col">รายละเอียด</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row">ประเภทการลา :</th>
                                    <td>{{LTypeName_show}}</td>
                                </tr>

                                <tr>
                                    <th scope="row">มีผู้รับผิดชอบงานแทน :</th>
                                    <td>{{employee_show}}</td>
                                </tr>


                                <tr>
                                    <th scope="row">ขอลาเนื่องจาก :</th>
                                    <td> {{LeaveData_show}}</td>

                                </tr>
                                <tr>
                                    <th scope="row">ข้อมูลการติดต่อ :</th>
                                    <td> {{ContactInformation_show}}</td>

                                </tr>
                                <tr>
                                    <th scope="row">วันที่ลา :</th>
                                    <td> {{LeaveDateStart_show}} / {{Leave_characteristics_dateStart_show}}</td>

                                </tr>
                                <tr>
                                    <th scope="row">ถึงวันที่ :</th>
                                    <td> {{LeaveDateLast_show}} / {{Leave_characteristics_dateLast_show}} </td>

                                </tr>
                                <tr>
                                    <th scope="row">จำนวนวันลา :</th>
                                    <td> {{LeaveTotal_show}}</td>

                                </tr>
                                <tr>
                                    <th scope="row">แนปไฟล์ :</th>
                                    <td>
                                <tr *ngFor="let item of show_file">
                                    <a
                                        href="http://cpe.rmuti.ac.th/project/Leave_system/upload/{{item.file_name}}">{{item.file_name}}</a>
                                </tr>



                                </td>

                                </tr>
                                <tr>
                                    <th scope="row">สถานะการลา :</th>
                                    <td style="color: rgb(12, 48, 206);"> {{LeaveStatus_Name_show}}</td>
                                </tr>
                                <tr>
                                    <th scope="row">สถานะการส่งใบลาฉบับจริง :</th>
                                    <td> {{LeaveStatus_Document_show}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">ปืด</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">บันทึก</button>
            </div>
        </div>
    </div>
</div>
<!-- โมเดลโชวข้อมูล -->




<!-- Modal การลาของบุคลากร-->
<div class="modal fade" id="exampleModalleave" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="tab-pane fade show active">

                    <div>
                        <div>
                            <form>

                                <div class="card-header text-left">
                                    <b style="color: mediumblue;"> ยื่นการลา </b>
                                    <input type="text" class="form-control " style="display: none;" id="leave_ID"
                                        #leave_ID value="{{chack_ID}}" readonly>
                                </div>
                                <br>

                                <div class="col-sm">
                                    <label>เลือกรอบการประเมิน</label>
                                    <select class="custom-select {{invalid_limit}}" [formControl]="limit_ID"
                                        (change)="change_limit($event.target.value)">
                                        <option *ngFor="let item of showleave_limit " value="{{item.limit_ID}}">
                                            {{item.Name_limit}}</option>
                                    </select>
                                    <label>ประเภทการลา</label>
                                    <!-- <p style="color: red;">*หากเป็นการลาอื่นๆ
                                        นอกจากลาป่วยและลากิจระบบจะบันทึกข้อมูลให้แต่ระบบยังไม่สามารถนำมาคำนวณได้</p> -->
                                    <select [formControl]="LType_ID" (ngModelChange)="dataChanged($event)" name="data"
                                        id="type_leave" class="custom-select {{invalid_type}}">
                                        <option *ngFor="let currentData of leavetypeUser" [ngValue]="currentData">
                                            {{currentData.LTypeName}}
                                        </option>
                                    </select>
                                </div>
                                <br>
                                <div class="container">
                                    <div class="form-row">
                                        <p>เรื่อง</p>
                                        <input type="text" class="form-control {{invalid_type}}" id="nameleave"
                                            value="{{LTypeName_check}}" #Name_Leave readonly>
                                        <p>เรียน</p>
                                        <input type="text" id="toheader"
                                            value="ผู้อำนวยการสำนักวิทยบริการและเทคโนโลยีสารสนเทศ" #To_Person
                                            class="form-control" readonly>

                                    </div>
                                </div>
                                &nbsp;&nbsp;

                                <div class="none">
                                    <div class="card-header text-left">
                                        <b style="color: mediumblue;">ข้อมุลบุคลากร</b>
                                    </div>
                                    &nbsp;
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-sm">
                                                <h6>รหัส </h6>
                                                <input type="text" class="form-control" value="{{Local_Emp_ID}}"
                                                    [formControl]="Emp_ID" readonly>
                                            </div>
                                            <div class="col-sm">
                                                <h6> ชื่อ </h6>
                                                <input type="text" class="form-control" value="{{Local_EmpName}}"
                                                    [formControl]="EmpName" readonly>
                                            </div>
                                            <div class="col-sm">
                                                <h6> นามสกุล </h6>
                                                <input type="text" class="form-control" id="validationDefault02"
                                                    value="{{Local_EmpLastName}}" [formControl]="EmpLastName" readonly>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="container">
                                        <div class="row">
                                            <div class="col-sm">
                                                <h6>ตำแหน่ง </h6>
                                                <input type="text" class="form-control" value="{{Local_PositionName}}"
                                                    [formControl]="PositionName" readonly>
                                            </div>
                                            <div class="col-sm">
                                                <h6>แผนก </h6>
                                                <input type="text" class="form-control" value="{{Local_DeptName}}"
                                                    [formControl]="DeptName" readonly>
                                            </div>
                                            <div class="col-sm">
                                                <h6> ฝ่าย </h6>
                                                <input type="text" class="form-control" value="{{Local_Sector}}"
                                                    id="validationDefault02" [formControl]="Sector" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card-header text-left">
                                    <b style="color: mediumblue;"> ข้อมูลการลา</b>
                                </div>
                                <br>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-sm">
                                            <label> วันลาคงเหลือ</label><br>
                                            <input type="text" id="check_Remain" class="form-control"
                                                value="{{check_Remain}}" #check_number style="width: 50%;" readonly>
                                        </div>
                                        <div class="col-sm">
                                            <label> วันลาเกิน</label><br>
                                            <input type="text" id="LType_limit_check" class="form-control"
                                                value="{{Remain_over_check}}" #Remain_over style="width: 50%;" readonly>
                                        </div>

                                        <div class="col-sm">
                                            <label> จำนวนครั้ง</label><br>
                                            <input type="text" id="number_leave" class="form-control"
                                                value="{{number_leave_check}}" #number_leave style="width: 50%;"
                                                readonly>
                                        </div>
                                        <div class="col-sm">
                                            <div class="custom-control custom-checkbox">
                                                <input class="custom-control-input" type="checkbox" id="inlineCheckbox1"
                                                    (change)="toggleVisibility($event)">
                                                <label class="custom-control-label"
                                                    for="inlineCheckbox1">มีผู้รับผิดชอบงานแทน</label>
                                                <span *ngIf="marked"><input type="text" class="form-control"
                                                        id="employee_work" [formControl]="employee"></span>

                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-sm">
                                                <label for="exampleFormControlTextarea1">ขอลาเนื่องจาก</label>
                                                <textarea class="form-control" id="dataleave" rows="3"
                                                    [formControl]="LeaveData"></textarea>
                                            </div>
                                            <div class="col-sm">
                                                <label for="exampleFormControlTextarea1">ข้อมูลการติดต่อ</label>
                                                <textarea class="form-control" id="datacontact" rows="3"
                                                    [formControl]="ContactInformation"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <br>


                                </div>


                                <div class="form-row">
                                    <div class="col-sm">
                                        <div class="card text-white  mb-3" style="max-width: 18rem;">
                                            <div class="card-header bg-primary">วันที่ลา</div>
                                            <div class="card-body text-primary">
                                                <input type="date" class="form-control" value="{{date_chack_leave}}"
                                                    id="date_chack" #date_chack style="display: none;">
                                                <input type="date" class="form-control" id="LeaveDateStart"
                                                    #Leave_characteristics [formControl]="LeaveDateStart"
                                                    [max]="maxDate" data-date=""
                                                    (change)="onseletday(LeaveDateStart.value,LeaveDateLast.value,Leave_characteristics.value,date_chack.value)"
                                                    required>
                                                <!-- <select class="custom-select" id="Leave_characteristics_dateLast"
                                                    [disabled]="btnDisable_last" #Leave_characteristics_dateLast>
                                                    <option value="เต็มวัน">เต็มวัน</option>
                                                    <option value="ครึ่งวันเช้า">ครึ่งวันเช้า</option>
                                                    <option value="ครึ่งวันบ่าย">ครึ่งวันบ่าย</option>
                                                </select> -->
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm">
                                        <div class="card text-white  mb-3" style="max-width: 18rem;">
                                            <div class="card-header bg-danger ">ถึงวันที่</div>
                                            <div class="card-body text-primary">
                                                <input type="date" class="form-control " id="LeaveDateLast"
                                                    #Leave_characteristics [formControl]="LeaveDateLast" [max]="maxDate"
                                                    (change)="onseletday(LeaveDateStart.value,LeaveDateLast.value,Leave_characteristics.value,date_chack.value)"
                                                    required>
                                                <!-- <select class="custom-select" id="Leave_characteristics_dateStart"
                                                    [disabled]="btnDisable_start" #Leave_characteristics_dateStart>
                                                    <option value="เต็มวัน">เต็มวัน</option>
                                                    <option value="ครึ่งวันเช้า">ครึ่งวันเช้า</option>
                                                    <option value="ครึ่งวันบ่าย">ครึ่งวันบ่าย</option>
                                                </select> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-2 " *ngIf="characteristics">
                                        <label for="inputState">ประเภทวันลา</label>
                                        <select class="form-control" id="Leave_characteristics" #Leave_characteristics
                                            (change)="onseletday(LeaveDateStart.value,LeaveDateLast.value,Leave_characteristics.value,date_chack.value)">
                                            <option value="เต็มวัน">เต็มวัน</option>
                                            <option value="ครึ่งวันเช้า">ครึ่งวันเช้า</option>
                                            <option value="ครึ่งวันบ่าย">ครึ่งวันบ่าย</option>
                                        </select>
                                    </div>

                                    <div class="col-md-2 mb-2">

                                        <label>จำนวนวันลา</label>
                                        <input type="text" class="form-control" id="LeaveTotal" value="{{numberleave}}"
                                            #LeaveTotal readonly>


                                        <label>สถานะการส่งใบลาฉบับจริง</label>
                                        <select class="custom-select {{invalid_doc}}" (change)="change_doc($event)"
                                            [formControl]="LeaveStatus_Document">

                                            <option value="ส่งใบลาฉบับจริงแล้ว">ส่งใบลาฉบับจริงแล้ว</option>
                                            <option value="ยังไม่ส่งใบลาฉบับจริง" selected>ยังไม่ส่งใบลาฉบับจริง
                                            </option>
                                        </select>

                                    </div>

                                    <form>
                                        <br>
                                        <div class="form-group">
                                            <label for="exampleFormControlFile1">แนปไฟล์</label>
                                            <br>
                                            <input type="file" #fileInput (change)="onFileChanged($event)" multiple>
                                            <button type="button" (click)="file_remove(fileInput)"
                                                class="btn btn-danger btn-circle "><i class="fa fa-trash"
                                                    aria-hidden="true"></i></button>
                                            <br>
                                            <br>

                                        </div>
                                        <br>


                                    </form>
                                    <div class="form-row">

                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="AddLeave(leave_ID.value,LeaveTotal.value,check_number.value,Remain_over.value,Name_Leave.value,
                    To_Person.value,number_leave.value)">ยืนยัน</button>

            </div>
        </div>
    </div>
</div>
<!-- Modal ขออนุญาตยกเลิการลา -->
<div class="modal fade" id="exampleModal_cancel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">ยกเลิกการลา</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="card-header text-left">
                        <b style="color: mediumblue;"> ยื่นการลา</b>
                    </div>
                    <br>
                    <div class="container">
                        <div class="form-row">
                            <p>เรื่อง</p>
                            <input type="text" class="form-control" value="{{LTypeName_namleave}}">
                            <p>เรียน</p>
                            <input type="text" class="form-control" [formControl]="To_Person">

                        </div>
                    </div>
                    &nbsp;&nbsp;
                    <div class="card-header text-left">
                        <b style="color: mediumblue;">ข้อมุลบุคลากร</b>
                    </div>
                    &nbsp;
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <h6>รหัส </h6>
                                <input type="text" class="form-control" value="{{Local_Emp_ID}}" [formControl]="Emp_ID"
                                    readonly>
                            </div>
                            <div class="col-sm">
                                <h6> ชื่อ </h6>
                                <input type="text" class="form-control" value="{{Local_EmpName}}"
                                    [formControl]="EmpName" readonly>
                            </div>
                            <div class="col-sm">
                                <h6> นามสกุล </h6>
                                <input type="text" class="form-control" id="validationDefault02"
                                    value="{{Local_EmpLastName}}" [formControl]="EmpLastName" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <h6>ตำแหน่ง </h6>
                                <input type="text" class="form-control" value="{{Local_PositionName}}"
                                    [formControl]="PositionName" readonly>
                            </div>
                            <div class="col-sm">
                                <h6>แผนก </h6>
                                <input type="text" class="form-control" value="{{Local_DeptName}}"
                                    [formControl]="DeptName" readonly>
                            </div>
                            <div class="col-sm">
                                <h6> ฝ่าย </h6>
                                <input type="text" class="form-control" value="{{Local_Sector}}"
                                    id="validationDefault02" [formControl]="Sector" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="card-header text-left">
                        <b style="color: mediumblue;"> ข้อมูลการยกเลิกการลา</b>
                    </div>
                    <br>
                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <h6>ได้รับอนุญาตให้ลา </h6>
                                <input type="text" class="form-control" [formControl]="LTypeName" readonly>
                            </div>
                            <div class="col-sm">
                                <h6>ตั้งแต่วันที่ </h6>
                                <input type="text" class="form-control" value="{{LeaveDateStart_cancel_month}}"
                                    readonly>
                            </div>
                            <div class="col-sm">
                                <h6> ถึงวันที่ </h6>
                                <input type="text" class="form-control" value="{{LeaveDateLast_cancel_month}}" readonly>
                            </div>
                            <div class="col-sm">
                                <h6> รวมวันลา </h6>
                                <input type="text" class="form-control" value="{{LeaveTotal_chack}}" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="container">
                        <div class="row">
                            <div class="col-sm">
                                <label>เนื่องจาก</label>
                                <textarea class="form-control" id="dataleave" rows="3"
                                    [formControl]="cancel_data"></textarea>
                            </div>
                            <div class="col-sm">
                                <label>จึงขอยกเลิกวันลา</label>
                                <input type="text" class="form-control" [formControl]="LTypeName" readonly>
                            </div>

                        </div>
                    </div>
                    <div class="container">
                        <div class="row">

                            <div class="col-sm">
                                <label>ตั้งแต่วันที่</label>
                                <input type="date" class="form-control" [formControl]="cancel_date_start"
                                    id="cancel_date_start" min="{{LeaveDateStart_cancel}}"
                                    max="{{LeaveDateLast_cancel}}">
                            </div>

                            <div class="col-sm">
                                <label>ถึงวันที่</label>
                                <input type="date" class="form-control" [formControl]="cancel_date_stop"
                                    id="cancel_date_stop" min="{{LeaveDateStart_cancel}}" max="{{LeaveDateLast_cancel}}"
                                    (change)="onseletday_cancal(cancel_date_start.value,cancel_date_stop.value)">
                            </div>
                            <div class="col-sm">
                                <label>จำนวน</label>
                                <input type="text" class="form-control" id="cancel_total" #cancel_total
                                    [value]="numberleave_cancal" readonly>
                                <input type="text" class="form-control" id="Leave_ID_cancel" value="{{Leave_ID_cancel}}"
                                    style="display: none;" #Leave_ID_cancel_text readonly>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
                <button type="button" class="btn btn-primary"
                    (click)="allow_cancel_leave(cancel_total.value,Leave_ID_cancel_text.value)">ยืนยัน</button>
            </div>
        </div>
    </div>
</div>
<!-- Modal อนุมัติการลาของหัวหน้าหน่วยงาน -->
<!-- <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content ">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">อนุมัติการลา </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label style="color: dodgerblue;">ชื่อ-นามสกุล</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="form-group col-md-6">
                            <label style="color: dodgerblue;">แผนก</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="color: dodgerblue;">ติดต่อ</label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="2"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label style="color: dodgerblue;">การลา</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="form-group col-md-6">
                            <label style="color: dodgerblue;">จำนวนวันลา</label>
                            <input type="text" class="form-control" id="inputAddress2">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label style="color: dodgerblue;">สาเหตุ</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label style="color: dodgerblue;">วันที่</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="form-group col-md-4">
                            <label style="color: dodgerblue;">ถึงวันที่</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="form-group col-md-4">
                            <label style="color: dodgerblue;">จำนวน/วัน</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">ปิดหน้าจอ</button>
                <button type="button" class="btn btn-danger">ไม่อนุญาต</button>
                <button type="button" class="btn btn-success">อนุญาต</button>
            </div>
        </div>
    </div>
</div> -->